{"version":3,"sources":["../../src/commands/bundle-assets.ts"],"names":["action","projectDir","options","Detach","bundleAssetsAsync","e","log","error","chalk","bold","SilentError","program","command","description","helpGroup","option","asyncActionProjectDir"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAEA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAOA,eAAeA,MAAf,CAAsBC,UAAtB,EAA0CC,OAA1C,EAA4D;AAC1D,MAAI;AACF,UAAMC,cAAOC,iBAAP,CAAyBH,UAAzB,EAAqCC,OAArC,CAAN;AACD,GAFD,CAEE,OAAOG,CAAP,EAAU;AACVC,mBAAIC,KAAJ,CAAUF,CAAV;;AACAC,mBAAIC,KAAJ,CACG,0DAAyDC,iBAAMC,IAAN,CACxD,cADwD,CAExD,oBAAmB,6BACnB,aADmB,EAEnB,mDAFmB,CAGnB,EANJ;;AAQA,UAAM,KAAIC,2BAAJ,EAAgBL,CAAhB,CAAN;AACD;AACF;;AAEc,kBAAUM,OAAV,EAA4B;AACzCA,EAAAA,OAAO,CACJC,OADH,CACW,sBADX,EAEGC,WAFH,CAGI,wFAHJ,EAKGC,SALH,CAKa,UALb,EAMGC,MANH,CAMU,eANV,EAM2B,kCAN3B,EAOGA,MAPH,CAOU,uBAPV,EAOmC,2BAPnC,EAQGC,qBARH,CAQyBhB,MARzB;AASD","sourcesContent":["import { Detach } from '@expo/xdl';\nimport chalk from 'chalk';\nimport { Command } from 'commander';\nimport terminalLink from 'terminal-link';\n\nimport { SilentError } from '../CommandError';\nimport log from '../log';\n\ntype Options = {\n  dest?: string;\n  platform?: string;\n};\n\nasync function action(projectDir: string, options: Options) {\n  try {\n    await Detach.bundleAssetsAsync(projectDir, options);\n  } catch (e) {\n    log.error(e);\n    log.error(\n      `Before making a release build, make sure you have run '${chalk.bold(\n        'expo publish'\n      )}' at least once. ${terminalLink(\n        'Learn more.',\n        'https://expo.fyi/release-builds-with-expo-updates'\n      )}`\n    );\n    throw new SilentError(e);\n  }\n}\n\nexport default function (program: Command) {\n  program\n    .command('bundle-assets [path]')\n    .description(\n      'Bundle assets for a detached app. This command should be executed from xcode or gradle'\n    )\n    .helpGroup('internal')\n    .option('--dest [dest]', 'Destination directory for assets')\n    .option('--platform [platform]', 'detached project platform')\n    .asyncActionProjectDir(action);\n}\n"],"file":"bundle-assets.js"}