{"version":3,"sources":["../../src/commands/logout.ts"],"names":["action","user","UserManager","getCurrentUserAsync","accessToken","CommandError","logoutAsync","e","message","program","command","description","helpGroup","asyncAction"],"mappings":";;;;;;;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AAGA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;AACA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;;;;AAEA,eAAeA,MAAf,GAAwB;AACtB,QAAMC,IAAI,GAAG,MAAMC,mBAAYC,mBAAZ,EAAnB;;AACA,MAAIF,IAAJ,aAAIA,IAAJ,uBAAIA,IAAI,CAAEG,WAAV,EAAuB;AACrB,UAAM,KAAIC,uBAAJ,EACJ,oBADI,EAEJ,yDAFI,CAAN;AAID;;AAED,MAAI;AACF,UAAMH,mBAAYI,WAAZ,EAAN;AACA,wBAAI,YAAJ;AACD,GAHD,CAGE,OAAOC,CAAP,EAAU;AACV,UAAM,KAAIF,uBAAJ,EAAkB,oBAAmBE,CAAC,CAACC,OAAQ,EAA/C,CAAN;AACD;AACF;;AAEc,kBAAUC,OAAV,EAA4B;AACzCA,EAAAA,OAAO,CACJC,OADH,CACW,QADX,EAEGC,WAFH,CAEe,2BAFf,EAGGC,SAHH,CAGa,MAHb,EAIGC,WAJH,CAIeb,MAJf;AAKD","sourcesContent":["import { UserManager } from '@expo/xdl';\nimport { Command } from 'commander';\n\nimport CommandError from '../CommandError';\nimport log from '../log';\n\nasync function action() {\n  const user = await UserManager.getCurrentUserAsync();\n  if (user?.accessToken) {\n    throw new CommandError(\n      'ACCESS_TOKEN_ERROR',\n      'Please remove the EXPO_TOKEN environment var to logout.'\n    );\n  }\n\n  try {\n    await UserManager.logoutAsync();\n    log('Logged out');\n  } catch (e) {\n    throw new CommandError(`Couldn't logout: ${e.message}`);\n  }\n}\n\nexport default function (program: Command) {\n  program\n    .command('logout')\n    .description('Logout of an Expo account')\n    .helpGroup('auth')\n    .asyncAction(action);\n}\n"],"file":"logout.js"}